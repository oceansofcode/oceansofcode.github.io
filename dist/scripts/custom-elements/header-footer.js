import{getThemeFromPreference as e,themeSwitchEvent as t}from"../theme/theme.js";import n from"../constants.js";import{createDNSPrefetch as i}from"../utils/links.js";export class PortfolioHeader extends HTMLElement{static mobileBreakpoint=800;mobileMenuToggle;navMenu;previousScrollPosition=window.scrollY;constructor(){super()}connectedCallback(){const n=[],i=document.createElement("i");i.setAttribute("id","mobile-menu-toggle"),i.setAttribute("class","fas fa-bars"),this.mobileMenuToggle=i,this.appendChild(i);const o=document.createElement("h1");o.setAttribute("id","title");const l=document.createElement("a");l.setAttribute("href","/"),l.setAttribute("aria-label","Portfolio title"),l.appendChild(document.createTextNode("Oceans of Code")),o.appendChild(l),this.appendChild(o);const s=document.createElement("nav");this.appendChild(s);const a=document.createElement("ul");a.setAttribute("id","nav-menu"),this.navMenu=a,s.appendChild(a);const r=this.createNavItem("Clients","/clients","/#clients");n.push(r),n.forEach((e=>a.appendChild(e)));const d=document.createElement("i");d.setAttribute("id","theme-switch"),d.setAttribute("class","fas"),this.appendChild(d),d.addEventListener("click",t(d),!1),d.classList.add(e().switchIcon),this.previousScrollPosition=window.scrollY,this.handleScrollEvent(),this.handleMobileMenuEvents(),this.handleThemeSwitchEvent()}createNavItem(e,t,n){const i=document.createElement("li"),o=document.createElement("a");return o.setAttribute("aria-label",`${e} section`),o.setAttribute("href",t),o.appendChild(document.createTextNode(e)),n&&o.addEventListener("click",(e=>{e.preventDefault(),this.closeMobileMenu(this.navMenu),document.location.href=n})),i.appendChild(o),i}handleMobileMenuEvents(){const e=()=>{window.innerWidth>=801&&(this.navMenu.style.display=null)};this.mobileMenuToggle.addEventListener("click",(()=>this.toggleMobileMenu(this.navMenu)),!1),window.addEventListener("resize",e,!1),window.addEventListener("orientationChange",e,!1)}toggleMobileMenu(e){window.innerWidth<=PortfolioHeader.mobileBreakpoint&&"flex"===e.style.display?e.style.display="none":e.style.display="flex"}closeMobileMenu(e){window.innerWidth<=PortfolioHeader.mobileBreakpoint&&(e.style.display="none")}handleScrollEvent(){window.addEventListener("scroll",(()=>{const e=this.previousScrollPosition,t=window.scrollY;t>500&&e<t?(this.style.translate="0 -70px",this.closeMobileMenu(this.navMenu)):this.style.translate="0 0",this.changeBackgroundColorOpacity(),this.previousScrollPosition=t}),!1)}changeBackgroundColorOpacity(){const e=window.scrollY>300?.99:.75,t=getComputedStyle(this).getPropertyValue("background-color");this.style.backgroundColor=t.replace(/0?\.?\d+\)$/,`${e.toString()})`)}handleThemeSwitchEvent(){window.addEventListener(n.THEME_SWITCH_EVENT,(()=>this.style.removeProperty("background-color")),!1)}}export class PortfolioFooter extends HTMLElement{year;constructor(){super(),this.year=(new Date).getFullYear().toString()}connectedCallback(){const e=document.createElement("p"),t=document.createTextNode(String.fromCharCode(169)+" "),n=document.createElement("time");n.setAttribute("id","footer-date"),n.setAttribute("datetime",this.year),n.appendChild(document.createTextNode(this.year)),e.appendChild(t),e.appendChild(n),e.appendChild(document.createTextNode(" Adam A"));const o=this.createSocialLink("Github","fa-github","https://github.com/oceansofcode"),l=this.createSocialLink("Linkedin","fa-linkedin-in","https://linkedin.com/in/adam-a-085a31163");[o,l].forEach((e=>this.appendChild(i(e)))),this.appendChild(l),this.appendChild(e),this.appendChild(o)}createSocialLink(e,t,n){const i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("target","_blank"),i.setAttribute("title",e),i.setAttribute("aria-label",`Link to my ${e}`);const o=document.createElement("i");return o.classList.add("fa-brands","link-icon",t),i.appendChild(o),i}}
//# sourceMappingURL=header-footer.js.map