const e={name:"light",switchIcon:"fa-moon"},t={name:"dark",switchIcon:"fa-sun"};let n;export const getThemeFromPreference=()=>window.matchMedia(`(prefers-color-scheme: ${e.name})`).matches?e:t;export const getCurrentTheme=()=>n?.classList.contains(e.name)?e:n?.classList.contains(t.name)?t:null;const s=(e,t)=>{n&&(n.classList.add(e.newTheme.name),e.oldTheme&&n.classList.remove(e.oldTheme.name)),t&&(t.classList.add(e.newTheme.switchIcon),e.oldTheme&&t.classList.remove(e.oldTheme.switchIcon))};export const themeSwitchEvent=o=>{const c={newTheme:t,oldTheme:e},a={newTheme:e,oldTheme:t},m="color-theme-in-transition",r=1500,i=()=>s(c,o),l=()=>s(a,o);return window.matchMedia(`(prefers-color-scheme: ${e.name})`).addEventListener("change",(e=>e.matches?l():i())),()=>{n.classList.add(m),setTimeout((()=>n.classList.remove(m)),r),n.classList.contains(e.name)?i():l()}};export const themeInit=async()=>{n=await(()=>{let e=100;return new Promise(((t,n)=>{const s=setInterval((()=>{const o=document.querySelector("body");o?(t(o),clearInterval(s)):(e--,e<0&&(n("Could not query select body element"),clearInterval(s)))}),10)}))})();const o=e=>s({newTheme:e},void 0);window.matchMedia(`(prefers-color-scheme: ${e.name})`).matches?o(e):o(t)};
//# sourceMappingURL=theme.js.map