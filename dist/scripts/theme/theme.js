const e={name:"light",switchIcon:"fa-moon",css:"light-theme-css",isLoaded:!1},s={name:"dark",switchIcon:"fa-sun",css:"dark-theme-css",isLoaded:!1};let t;export const getThemeFromPreference=()=>window.matchMedia(`(prefers-color-scheme: ${e.name})`).matches?e:s;export const getCurrentTheme=()=>t?.classList.contains(e.name)?e:t?.classList.contains(s.name)?s:null;const n=(e,s)=>{const{newTheme:n,oldTheme:o}=e;n.isLoaded||c(n),t&&(t.classList.add(n.name),o&&t.classList.remove(o.name)),s&&(s.classList.add(n.switchIcon),o&&s.classList.remove(o.switchIcon))};export const themeSwitchEvent=c=>{const o={newTheme:s,oldTheme:e},a={newTheme:e,oldTheme:s},m="color-theme-in-transition",r=1500,i=()=>n(o,c),d=()=>n(a,c);return window.matchMedia(`(prefers-color-scheme: ${e.name})`).addEventListener("change",(e=>e.matches?d():i())),()=>{t.classList.add(m),setTimeout((()=>t.classList.remove(m)),r),t.classList.contains(e.name)?i():d()}};const c=e=>{document.getElementById(e.css).removeAttribute("disabled"),e.isLoaded=!0};export const themeInit=async()=>{t=await(()=>{let e=100;return new Promise(((s,t)=>{const n=setInterval((()=>{const c=document.querySelector("body");c?(s(c),clearInterval(n)):(e--,e<0&&(t("Could not query select body element"),clearInterval(n)))}),10)}))})();const c=e=>n({newTheme:e},void 0);window.matchMedia(`(prefers-color-scheme: ${e.name})`).matches?c(e):c(s)};
//# sourceMappingURL=theme.js.map